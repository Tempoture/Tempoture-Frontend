[{"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/index.js":"1","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/AppRouter.js":"2","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/store.js":"3","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/AboutUsPage.js":"4","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/LogInPage.js":"5","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/PlaylistsPage.js":"6","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/RedirectPage.js":"7","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/SettingsPage.js":"8","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/StatisticsPage.js":"9","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Navbar/Navbar.js":"10","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Navbar/SidebarData.js":"11","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/location.js":"12","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Authenticate/Refresh.jsx":"13"},{"size":392,"mtime":1614379143440,"results":"14","hashOfConfig":"15"},{"size":1089,"mtime":1614086844851,"results":"16","hashOfConfig":"15"},{"size":368,"mtime":1614379143411,"results":"17","hashOfConfig":"15"},{"size":206,"mtime":1613500311192,"results":"18","hashOfConfig":"15"},{"size":897,"mtime":1614075758718,"results":"19","hashOfConfig":"15"},{"size":211,"mtime":1613500311208,"results":"20","hashOfConfig":"15"},{"size":4709,"mtime":1614881179687,"results":"21","hashOfConfig":"15"},{"size":208,"mtime":1613500311224,"results":"22","hashOfConfig":"15"},{"size":214,"mtime":1613500311239,"results":"23","hashOfConfig":"15"},{"size":1537,"mtime":1613948458062,"results":"24","hashOfConfig":"15"},{"size":666,"mtime":1613500311177,"results":"25","hashOfConfig":"15"},{"size":826,"mtime":1614093942409,"results":"26","hashOfConfig":"15"},{"size":2594,"mtime":1614880748249,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"170zh34",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/index.js",[],["57","58"],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/AppRouter.js",[],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/store.js",[],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/AboutUsPage.js",[],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/LogInPage.js",[],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/PlaylistsPage.js",[],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/RedirectPage.js",["59"],"import React, { useEffect,useState } from \"react\";\nimport Navbar from \"../Navbar/Navbar\";\nimport {getAddress} from '../location.js';\n\nrequire('dotenv').config()\n\nfunction sendData( authKey, zipcode, country, refresh_token, last_refreshed){\n  var formData = new FormData();\n  formData.append('access_token', authKey);\n  formData.append('refresh_token',refresh_token);\n  formData.append('last_refresh',last_refreshed);\n  formData.append('country',country);\n  formData.append('zip_code', zipcode);\n\n  if (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" || window.location.hostname === \"\"){\n    fetch('http://127.0.0.1:5000/store_user', {\n      method: 'POST',\n      body: formData\n    }).then(response => response.json())\n    .then(data => console.log(data));\n  }\n  else{\n    fetch('https://backendtempoture.herokuapp.com/store_user', { //// sorry caplocks, just commit it\n      method: 'POST',\n      body: formData\n    }).then(response => response.json())\n    .then(data => console.log(data));\n  }\n}\n\nexport const getCodeFromUrl = () => {\n  return window.location.search.substring(1).split(\"code=\")[1];\n};\n\nconst RedirectPage =  () => {\n   const [token, setToken] = useState();\n    useEffect(() => {\n      const code = getCodeFromUrl();\n      if(localStorage.getItem('access_token') !== null)\n      {\n          const _token = localStorage.getItem('access_token');\n          const refresh_token = localStorage.getItem('refresh_token');\n          const last_refreshed = localStorage.getItem('last_refreshed');\n          if (_token) {\n            setToken(_token);\n          }\n          if (\"geolocation\" in navigator) {\n            // check if geolocation is supported/enabled on current browser\n            navigator.geolocation.getCurrentPosition(\n             function success(position) {\n               getAddress(position.coords.latitude,position.coords.longitude).then((adress) => {\n                  sendData( _token, adress[1], adress[0],refresh_token);\n               })\n             },\n            function error(error_message) {\n              // for when getting location results in an error\n              console.error('An error has occured while retrieving location', error_message)\n            }  \n          );\n          } else {\n            // geolocation is not supported\n            // get your location some other way\n            console.log('geolocation is not enabled on this browser')\n          }\n      }\n      else\n      {\n        fetch('https://accounts.spotify.com/api/token', {\n          method: 'POST',\n          body: new URLSearchParams({\n            'client_id': process.env.REACT_APP_CLIENT_ID,\n            'client_secret': process.env.REACT_APP_CLIENT_SECRET,\n            'grant_type': 'authorization_code',\n            'code': code,\n            'redirect_uri':process.env.REACT_APP_REDIRECT_URL\n          }),\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n        }).then(response => response.json())\n        .then(data => {\n          const _token = data.access_token;\n          const refresh_token = data.refresh_token;\n          var d = new Date();\n          const last_refreshed = d.getTime();\n\n          localStorage.setItem('access_token',_token);\n          localStorage.setItem('refresh_token',refresh_token);\n          localStorage.setItem('last_refreshed',last_refreshed);\n          if (_token) {\n            setToken(_token);\n          }\n          if (\"geolocation\" in navigator) { // This is duplicated because of the then , in the fetch\n            // check if geolocation is supported/enabled on current browser\n            navigator.geolocation.getCurrentPosition(\n            function success(position) {\n              getAddress(position.coords.latitude,position.coords.longitude).then((adress) => {\n                  //Trying to send API key to the backend\n                  // When testing on localhost change to localhost:5000/data\n                  sendData( _token, adress[1], adress[0],refresh_token);\n              })\n            },\n            function error(error_message) {\n              // for when getting location results in an error\n              console.error('An error has occured while retrieving location', error_message)\n            }  \n          );\n          } else {\n            // geolocation is not supported\n            // get your location some other way\n            console.log('geolocation is not enabled on this browser')\n          }\n        });\n      }\n    }, []);\n  /* change this to a ternerary to see if they have a token*/  \n return <div><Navbar /><h1 className=\"main-heading\"> Redirect Page </h1> {token}</div>;\n};\n\nexport default RedirectPage;","/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/SettingsPage.js",[],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Pages/StatisticsPage.js",[],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Navbar/Navbar.js",[],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Navbar/SidebarData.js",[],["60","61"],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/location.js",[],"/mnt/c/Users/kongtj/Documents/Tempoture/Tempoture-Frontend/src/components/Authenticate/Refresh.jsx",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":43,"column":17,"nodeType":"68","messageId":"69","endLine":43,"endColumn":31},{"ruleId":"62","replacedBy":"70"},{"ruleId":"64","replacedBy":"71"},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"no-unused-vars","'last_refreshed' is assigned a value but never used.","Identifier","unusedVar",["72"],["73"],"no-global-assign","no-unsafe-negation"]